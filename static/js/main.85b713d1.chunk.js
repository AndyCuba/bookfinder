(this.webpackJsonpbookfinder=this.webpackJsonpbookfinder||[]).push([[0],{77:function(e,n,t){"use strict";t.r(n);var r,a,c=t(24),o=t.n(c),i=t(23),s=t(21),b=t(8),l=t(6),d=t(7),u=Object(d.a)(r||(r=Object(l.a)(["\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n"]))),j=d.b.div(a||(a=Object(l.a)(["\n  max-width: 1200px;\n  margin: auto;\n"]))),O=t(0),f=function(){return Object(i.b)()},h=i.c,g=t(31),p=t(9);function m(e){var n=[];return null!==e?e.filter((function(e){return function(e){return-1===n.indexOf(e.id)&&(n.push(e.id),!0)}(e)})):e}var x,v,k,y,w,S,E,D,T,A,I,B,F,C,_,K,U,R,G="BOOKS/GET_DATA_REQUESTED",L="BOOKS/GET_DATA_SUCCEDED",z="BOOKS/GET_DATA_FAILED",Z="BOOKS/SET_SEARCHFIELD",H="BOOKS/SET_CATEGORY",J="BOOKS/SET_SORTING",N="BOOKS/CHANGE_OFFSET",P="BOOKS/RESET_BOOKSSTATE",Q=function(e,n,t){return{type:G,payload:{searchText:e,sorting:n,offset:t}}},W=function(e){return{type:H,payload:e}},q=function(e){return{type:N,payload:e}},M={books:{totalItems:null,items:[]},searchfield:"",isFetching:!1,category:"All",sorting:"relevance",offset:0,error:null},V=function(e){return e.booksData.searchfield},Y=function(e){return e.booksData.sorting},X=function(e){return e.booksData.offset},$=function(e){return e.booksData.books.items},ee=function(e){return e.booksData.category},ne=function(e){return e.booksData.books.totalItems},te=function(e){return e.booksData.isFetching},re=t(2),ae=function(){var e=f(),n=Object(b.f)(),t=h(V),r=h(Y),a=h(X),c=function(){t&&(n.push("/"),e(W("All")),e(q(-a)),e({type:P}),e(Q(t,r,a)))};Object(O.useEffect)((function(){c()}),[r]);return Object(re.jsx)("div",{children:Object(re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c()},children:[Object(re.jsx)("input",{type:"text",onChange:function(n){var t=n.target.value;e({type:Z,payload:t})},value:t}),Object(re.jsx)("button",{type:"submit",children:"Search"})]})})},ce=d.b.div(x||(x=Object(l.a)(["\n    color: white;\n"]))),oe=function(){var e=f(),n=h($),t=h(ee),r=new Set(null===n||void 0===n?void 0:n.filter((function(e){return e.volumeInfo.categories})).map((function(e){var n;return null===(n=e.volumeInfo)||void 0===n?void 0:n.categories[0]}))),a=function(n){var t=n.target,r=t.value,a=t.id;"category"===a?e(W(r)):"sorting"===a&&e({type:J,payload:r})};return Object(re.jsx)(re.Fragment,{children:n[0]&&Object(re.jsxs)(ce,{children:[Object(re.jsxs)("div",{children:[Object(re.jsx)("label",{htmlFor:"category",children:"Categories"}),Object(re.jsxs)("select",{id:"category",onChange:a,value:t,children:[Object(re.jsx)("option",{value:"All",children:"All"}),Array.from(r).map((function(e,n){return Object(re.jsx)("option",{value:e,children:e},n)}))]})]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("label",{htmlFor:"sorting",children:"Sorting by"}),Object(re.jsxs)("select",{id:"sorting",onChange:a,defaultValue:t,children:[Object(re.jsx)("option",{value:"relevance",children:"relevance"}),Object(re.jsx)("option",{value:"newest",children:"newest"})]})]})]})})},ie=t.p+"static/media/headerBackground.48ebd918.jpg",se=d.b.header(v||(v=Object(l.a)(["\n    padding: 2rem 0;\n    background: url(",") center/cover;\n"])),ie),be=d.b.h1(k||(k=Object(l.a)(["\n    text-align: center;\n    padding: 1rem;\n    color: white;\n    font-size: 3.5rem;\n"]))),le=function(){return Object(re.jsx)(se,{children:Object(re.jsxs)(j,{children:[Object(re.jsx)(be,{children:"Search for books"}),Object(re.jsx)(ae,{}),Object(re.jsx)(oe,{})]})})},de=t(47),ue=d.b.div(y||(y=Object(l.a)(["\n    width: 10rem;\n    height: 15rem;\n    background: url(",") center/cover;\n    box-shadow: 0px 3px 8px 3px rgba(34, 60, 80, 0.2);\n    align-self: center;\n"])),(function(e){return e.imageUrl?e.imageUrl:"none"})),je=d.b.div(w||(w=Object(l.a)(["\n    width: 20rem;\n    height: 24rem;\n    background-color: rgb(242, 241, 237);\n    display: flex;\n    justify-content: center;\n"]))),Oe=d.b.div(S||(S=Object(l.a)(["\n    padding: 1rem 0;\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(9rem, 24rem));\n    justify-items: center;\n    grid-row-gap: 2rem;\n"]))),fe=d.b.div(E||(E=Object(l.a)(["\n    p {\n        padding: 1rem 0;\n    }\n"]))),he=function(){var e=Object(b.g)().id,n=h((function(n){var t;return null===(t=n.booksData.books.items)||void 0===t?void 0:t.filter((function(n){return n.id===e}))})),t=Object(de.a)(n,1)[0],r=null===t||void 0===t?void 0:t.volumeInfo,a=r.authors,c=r.description,o=r.imageLinks,i=r.categories,s=r.title;return Object(re.jsx)("div",{children:Object(re.jsx)(j,{children:Object(re.jsxs)(Oe,{children:[Object(re.jsx)(je,{children:Object(re.jsx)(ue,{imageUrl:(null===o||void 0===o?void 0:o.thumbnail)&&o.thumbnail})}),Object(re.jsxs)(fe,{children:[Object(re.jsx)("p",{children:i&&i.map((function(e,n){return Object(re.jsx)("span",{children:(n?"/ ":"")+e},n)}))}),Object(re.jsx)("h3",{children:s}),Object(re.jsx)("p",{children:null===a||void 0===a?void 0:a.map((function(e,n){return Object(re.jsx)("span",{children:(n?", ":"")+e},n)}))}),Object(re.jsx)("p",{children:c})]})]})})})},ge=d.b.p(D||(D=Object(l.a)(["\n    font-weight: 800;\n"]))),pe=Object(d.b)(s.b)(T||(T=Object(l.a)(["\n    background-color: rgb(242, 241, 237);\n    padding: 1.5rem 1rem;\n    width: 15rem;\n    height: 21rem;\n    display: flex;\n    flex-direction: column;\n    text-decoration: none;\n    p {\n        margin-top: 0.4rem;\n        color: black;\n    }\n"]))),me=d.b.p(A||(A=Object(l.a)(["\n    \n"]))),xe=d.b.p(I||(I=Object(l.a)(["\n    \n"]))),ve=d.b.div(B||(B=Object(l.a)(["\n    height: 10rem;\n    width: 7rem;\n    background: url(",") center/cover;\n    box-shadow: 0px 3px 8px 3px rgba(34, 60, 80, 0.2);\n    align-self: center;\n"])),(function(e){return e.imageUrl?e.imageUrl:"none"})),ke=function(e){var n=e.book.volumeInfo,t=n.title,r=n.authors,a=n.imageLinks,c=n.categories,o=e.book.id;return Object(re.jsxs)(pe,{to:"book/".concat(o),children:[Object(re.jsx)(ve,{imageUrl:(null===a||void 0===a?void 0:a.thumbnail)&&a.thumbnail}),Object(re.jsx)(xe,{children:c&&c[0]}),Object(re.jsx)(ge,{children:t[65]?t.slice(0,65)+"...":t}),Object(re.jsx)(me,{children:null===r||void 0===r?void 0:r.map((function(e,n){return Object(re.jsx)("span",{children:(n?", ":"")+e},n)}))})]})},ye=d.b.div(F||(F=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    padding: 1rem 0;\n"]))),we=function(){var e=f(),n=h(V),t=h(Y),r=h(X);return Object(re.jsx)(ye,{children:Object(re.jsx)("button",{onClick:function(){e(q(30)),e(Q(n,t,r+30))},children:"Load more"})})},Se=Object(d.c)(C||(C=Object(l.a)(["\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n    }\n"]))),Ee=d.b.div(_||(_=Object(l.a)(["\n    font-size: 10px;\n    margin: 50px auto;\n    text-indent: -9999em;\n    width: 11em;\n    height: 11em;\n    border-radius: 50%;\n    background: #090b15;\n    background: -moz-linear-gradient(left, #090b15 10%, rgba(9,11,21, 0) 42%);\n    background: -webkit-linear-gradient(left, #090b15 10%, rgba(9,11,21, 0) 42%);\n    background: -o-linear-gradient(left, #090b15 10%, rgba(9,11,21, 0) 42%);\n    background: -ms-linear-gradient(left, #090b15 10%, rgba(9,11,21, 0) 42%);\n    background: linear-gradient(to right, #090b15 10%, rgba(9,11,21, 0) 42%);\n    position: relative;\n    -webkit-animation: "," 1.4s infinite linear;\n    animation: "," 1.4s infinite linear;\n    -webkit-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    transform: translateZ(0);\n    overflow: hidden;\n    &:after {\n        background: white;\n        width: 75%;\n        height: 75%;\n        border-radius: 50%;\n        content: '';\n        margin: auto;\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n    }\n    &:before {\n        width: 50%;\n        height: 50%;\n        background: #090b15;\n        border-radius: 100% 0 0 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n        content: '';\n    }\n"])),Se,Se),De=function(){return Object(re.jsx)(Ee,{children:"Loading...."})},Te=d.b.div(K||(K=Object(l.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(9rem, 18rem));\n    justify-items: center;\n    grid-row-gap: 2rem;\n"]))),Ae=d.b.p(U||(U=Object(l.a)(["\n    text-align: center;\n    margin-bottom: 1rem;\n"]))),Ie=d.b.div(R||(R=Object(l.a)(["\n    padding: 1rem 0;\n"]))),Be=function(){var e=h($),n=h(ne),t=h(te),r=h(ee);return t&&!e[0]?Object(re.jsx)(De,{}):Object(re.jsx)(Ie,{children:Object(re.jsxs)(j,{children:[n&&Object(re.jsxs)(Ae,{children:["Found\xa0",n,"\xa0results"]}),Object(re.jsx)(Te,{children:e[0]?e.filter((function(e){return"All"===r?e:e.volumeInfo.categories&&e.volumeInfo.categories[0]!==r?void 0:e})).map((function(e){return Object(re.jsx)(ke,{book:e},e.id)})):"Please, use search to find a book."}),e[0]&&Object(re.jsx)(we,{})]})})};var Fe=function(){return Object(re.jsxs)("div",{children:[Object(re.jsx)(u,{}),Object(re.jsx)(le,{}),Object(re.jsxs)(b.c,{children:[Object(re.jsx)(b.a,{exact:!0,path:"/",component:Be}),Object(re.jsx)(b.a,{exact:!0,path:"/book/:id",component:he})]})]})},Ce=t(15),_e=t(45),Ke=t(48),Ue=Object(Ce.combineReducers)({booksData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case G:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!0});case L:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,books:Object(p.a)(Object(p.a)({},e.books),{},{totalItems:n.payload.totalItems,items:m([].concat(Object(g.a)(e.books.items),Object(g.a)(n.payload.items)))})});case z:return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1,error:n.payload});case Z:return Object(p.a)(Object(p.a)({},e),{},{searchfield:n.payload});case H:return Object(p.a)(Object(p.a)({},e),{},{category:n.payload});case J:return Object(p.a)(Object(p.a)({},e),{},{sorting:n.payload});case N:return Object(p.a)(Object(p.a)({},e),{},{offset:e.offset+n.payload});case P:return Object(p.a)(Object(p.a)({},e),{},{books:{totalItems:null,items:[]}});default:return Object(p.a)({},e)}}}),Re=t(17),Ge=t.n(Re),Le=t(19),ze=t(46),Ze=t.n(ze),He={headers:{"Content-Type":"application/json"}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(p.a)(Object(p.a)({},He),e),t=Ze.a.create(n);return t}(),Ne=function(e){var n=e.searchText,t=e.sorting,r=e.offset;return Je.get("https://www.googleapis.com/books/v1/volumes?q=".concat(n,"&orderBy=").concat(t,"&startIndex=").concat(r,"&maxResults=30&key=AIzaSyDgZldmbQ9gaBPrIH4BW2-83lnFwprfry4")).then((function(e){return e.data})).catch((function(e){throw e}))},Pe=Ge.a.mark(We),Qe=Ge.a.mark(qe);function We(e){var n;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Le.b)(Ne,e.payload);case 3:return n=t.sent,t.next=6,Object(Le.c)({type:L,payload:n});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Le.c)((r=t.t0,{type:z,payload:r}));case 12:case 13:case"end":return t.stop()}var r}),Pe,null,[[0,8]])}function qe(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Le.d)(G,We);case 2:case"end":return e.stop()}}),Qe)}var Me=Ge.a.mark(Ve);function Ve(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Le.a)([qe()]);case 2:case"end":return e.stop()}}),Me)}var Ye=Ve,Xe=Object(Ke.a)(),$e=[Object(Ce.applyMiddleware)(Xe)],en=_e.composeWithDevTools.apply(void 0,$e),nn=Object(Ce.createStore)(Ue,en);Xe.run(Ye);var tn=nn;o.a.render(Object(re.jsx)(i.a,{store:tn,children:Object(re.jsx)(s.a,{basename:"/bookfinder",children:Object(re.jsx)(Fe,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.85b713d1.chunk.js.map